# ============================================
# SENTINEL INTELLIGENCE PLATFORM
# Environment Configuration
# Classification: UNCLASSIFIED//FOUO
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL - Main relational database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=sentinel
POSTGRES_PASSWORD=sentinel_dev_password
POSTGRES_DB=sentinel
POSTGRES_URL=postgresql+asyncpg://sentinel:sentinel_dev_password@localhost:5432/sentinel

# Neo4j - Knowledge graph database
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=sentinel_dev_password

# Redis - Cache and message broker
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# Elasticsearch - Search and logs
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_URL=http://localhost:9200

# TimescaleDB - Time-series data
TIMESCALEDB_HOST=localhost
TIMESCALEDB_PORT=5433
TIMESCALEDB_USER=sentinel
TIMESCALEDB_PASSWORD=sentinel_dev_password
TIMESCALEDB_DB=sentinel_timeseries
TIMESCALEDB_URL=postgresql+asyncpg://sentinel:sentinel_dev_password@localhost:5433/sentinel_timeseries

# ============================================
# KAFKA CONFIGURATION
# ============================================

KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPICS_OSINT=collection.osint
KAFKA_TOPICS_SIGINT=collection.sigint
KAFKA_TOPICS_CYBINT=collection.cybint
KAFKA_TOPICS_FUSION=analysis.correlation
KAFKA_TOPICS_PRODUCTS=intel.products

# ============================================
# MINIO CONFIGURATION (S3-compatible storage)
# ============================================

MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=sentinel
MINIO_SECRET_KEY=sentinel_dev_password
MINIO_BUCKET=sentinel-artifacts
MINIO_SECURE=false

# ============================================
# APPLICATION CONFIGURATION
# ============================================

APP_ENV=development
APP_DEBUG=true
APP_NAME=Sentinel Intelligence Platform
APP_VERSION=0.1.0

# Security
SECRET_KEY=your-secret-key-change-in-production-use-strong-random-string
JWT_SECRET=your-jwt-secret-change-in-production-use-strong-random-string
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# ============================================
# API CONFIGURATION
# ============================================

API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true
API_PREFIX=/api/v1

# CORS
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true

# ============================================
# FRONTEND CONFIGURATION
# ============================================

NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_APP_NAME=Sentinel Intelligence Platform
NEXT_PUBLIC_CLASSIFICATION=UNCLASSIFIED//FOUO

# ============================================
# WORKER CONFIGURATION (Celery)
# ============================================

CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# ============================================
# INTELLIGENCE COLLECTION CONFIGURATION
# ============================================

# Collection toggles
OSINT_ENABLED=true
ASM_ENABLED=true
SIGINT_ENABLED=false  # Requires network access
CYBINT_ENABLED=true
GEOINT_ENABLED=false
HUMINT_ENABLED=false

# Collection intervals (seconds)
OSINT_INTERVAL=3600
ASM_INTERVAL=21600
CYBINT_INTERVAL=14400

# Rate limiting
COLLECTION_RATE_LIMIT=100
COLLECTION_RATE_PERIOD=60

# ============================================
# LOGGING CONFIGURATION
# ============================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/sentinel.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Specific component log levels
LOG_LEVEL_API=INFO
LOG_LEVEL_DATABASE=INFO
LOG_LEVEL_WORKERS=INFO
LOG_LEVEL_COLLECTORS=DEBUG

# ============================================
# ANALYSIS CONFIGURATION
# ============================================

# Risk scoring
RISK_SCORE_MIN=0.0
RISK_SCORE_MAX=10.0
RISK_CONFIDENCE_THRESHOLD=0.5

# Correlation
CORRELATION_TIME_WINDOW=86400  # 24 hours in seconds
CORRELATION_CONFIDENCE_THRESHOLD=0.7

# Attack path modeling
ATTACK_PATH_MAX_DEPTH=5
ATTACK_PATH_MAX_RESULTS=10

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================

# Threat intelligence feeds
VIRUSTOTAL_API_KEY=
SHODAN_API_KEY=
CENSYS_API_ID=
CENSYS_API_SECRET=
GREYNOISE_API_KEY=

# OSINT sources
GITHUB_TOKEN=
TWITTER_BEARER_TOKEN=

# Notification services
SLACK_WEBHOOK_URL=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_FROM=sentinel@example.com

# ============================================
# PERFORMANCE TUNING
# ============================================

# Database connection pools
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Cache TTL (seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# Task queue
TASK_QUEUE_MAX_RETRIES=3
TASK_QUEUE_RETRY_DELAY=60

# ============================================
# DEVELOPMENT & TESTING
# ============================================

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://sentinel:sentinel_dev_password@localhost:5432/sentinel_test
PYTEST_WORKERS=auto

# Development
DEV_MOCK_EXTERNAL_APIS=true
DEV_SEED_DATA=false
DEV_AUTO_RELOAD=true
